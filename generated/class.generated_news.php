<?php

/**
 * This php file is automatically generated by Skolenet
 * Model - Class: news
 */

if (0 > version_compare(PHP_VERSION, '5'))
{ die('This file was generated for PHP 5'); }


require_once('class.general_group.php');


class generated_news
     extends general_group
{
    // --- ATTRIBUTES ---

    /**
     * Short description of attribute id
     *
     * @access public
     * @var Integer
     */
    public $id = null;

    /**
     * Short description of attribute upload_stamp
     *
     * @access public
     * @var time_stamp
     */
    public $upload_stamp = null;

    /**
     * Short description of attribute receiver_id
     *
     * @access public
     * @var Integer
     */
    public $receiver_id = null;

    /**
     * Short description of attribute entity_group
     *
     * @access public
     * @var String
     */
    public $entity_group = null;

    /**
     * Short description of attribute entity_id
     *
     * @access public
     * @var Integer
     */
    public $entity_id = null;

    /**
     * Short description of attribute function
     *
     * @access public
     * @var Integer
     */
    public $function = null;

    /**
     * Short description of attribute article_id
     *
     * @access public
     * @var Integer
     */
    public $article_id = null;

    /**
     * Short description of attribute is_read
     *
     * @access public
     * @var Integer
     */
    public $is_read = null;

    /**
     * Short description of attribute uploader_id
     *
     * @access public
     * @var Integer
     */
    public $uploader_id = null;

     // --- OPERATIONS ---

    /**
     * Short description of attribute id
     *
     * @access public
     * @var Integer
     */
    public function set_id($id)
    {
      $this->id = $id;
    }

    /**
     * Short description of attribute id
     *
     * @access public
     * @var Integer
     */
    public function get_id()
    {
      return $this->id;
    }

    /**
     * Short description of attribute upload_stamp
     *
     * @access public
     * @var time_stamp
     */
    public function set_upload_stamp($upload_stamp)
    {
      $this->upload_stamp = $upload_stamp;
    }

    /**
     * Short description of attribute upload_stamp
     *
     * @access public
     * @var time_stamp
     */
    public function get_upload_stamp()
    {
      return $this->upload_stamp;
    }

    /**
     * Short description of attribute receiver_id
     *
     * @access public
     * @var Integer
     */
    public function set_receiver_id($receiver_id)
    {
      $this->receiver_id = $receiver_id;
    }

    /**
     * Short description of attribute receiver_id
     *
     * @access public
     * @var Integer
     */
    public function get_receiver_id()
    {
      return $this->receiver_id;
    }

    /**
     * Short description of attribute entity_group
     *
     * @access public
     * @var String
     */
    public function set_entity_group($entity_group)
    {
      $this->entity_group = $entity_group;
    }

    /**
     * Short description of attribute entity_group
     *
     * @access public
     * @var String
     */
    public function get_entity_group()
    {
      return $this->entity_group;
    }

    /**
     * Short description of attribute entity_id
     *
     * @access public
     * @var Integer
     */
    public function set_entity_id($entity_id)
    {
      $this->entity_id = $entity_id;
    }

    /**
     * Short description of attribute entity_id
     *
     * @access public
     * @var Integer
     */
    public function get_entity_id()
    {
      return $this->entity_id;
    }

    /**
     * Short description of attribute function
     *
     * @access public
     * @var Integer
     */
    public function set_function($function)
    {
      $this->function = $function;
    }

    /**
     * Short description of attribute function
     *
     * @access public
     * @var Integer
     */
    public function get_function()
    {
      return $this->function;
    }

    /**
     * Short description of attribute article_id
     *
     * @access public
     * @var Integer
     */
    public function set_article_id($article_id)
    {
      $this->article_id = $article_id;
    }

    /**
     * Short description of attribute article_id
     *
     * @access public
     * @var Integer
     */
    public function get_article_id()
    {
      return $this->article_id;
    }

    /**
     * Short description of attribute is_read
     *
     * @access public
     * @var Integer
     */
    public function set_is_read($is_read)
    {
      $this->is_read = $is_read;
    }

    /**
     * Short description of attribute is_read
     *
     * @access public
     * @var Integer
     */
    public function get_is_read()
    {
      return $this->is_read;
    }

    /**
     * Short description of attribute uploader_id
     *
     * @access public
     * @var Integer
     */
    public function set_uploader_id($uploader_id)
    {
      $this->uploader_id = $uploader_id;
    }

    /**
     * Short description of attribute uploader_id
     *
     * @access public
     * @var Integer
     */
    public function get_uploader_id()
    {
      return $this->uploader_id;
    }

    /**
     *
     * This is the insert function of the class news
     * @author Bernd Schrder
     *
     */
    public function insert()
    {
      require "data_connect.php";
      $insert_id = 0;
      $id = $this->get_id();
      $receiver_id = $this->get_receiver_id();
      $entity_group = $this->get_entity_group();
      $entity_id = $this->get_entity_id();
      $function = $this->get_function();
      $article_id = $this->get_article_id();
      $is_read = $this->get_is_read();
      $uploader_id = $this->get_uploader_id();
      if( $stmt = $mysqli->prepare(
      "INSERT INTO news
      (
      id,
      receiver_id,
      entity_group,
      entity_id,
      function,
      article_id,
      is_read,
      uploader_id
      )
      VALUES (?,?,?,?,?,?,?,?)"))
      {
      $stmt->bind_param
      (
      "iisiiiii",
      $id,
      $receiver_id,
      $entity_group,
      $entity_id,
      $function,
      $article_id,
      $is_read,
      $uploader_id
      );
      $stmt->execute();
      $stmt->close();
      $insert_id = $mysqli->insert_id;
      }
      else
      {
      $this->db_error->insert_error();
      }
      $mysqli->close();
      $this->db_error->serialize();
      return $insert_id;
    }

    /**
     *
     * This is the load function of the class news
     * @author Bernd Schrder
     *
     */
    public function load()
    {
      require "data_connect.php";
      $id = $this->get_id();
      if( $stmt = $mysqli->prepare(
      "SELECT
      id,
      upload_stamp,
      receiver_id,
      entity_group,
      entity_id,
      function,
      article_id,
      is_read,
      uploader_id
      FROM news WHERE id=?"))
      {
      $stmt->bind_param('i', $id );
      $stmt->execute();
      $stmt->bind_result
      (
      $id,
      $upload_stamp,
      $receiver_id,
      $entity_group,
      $entity_id,
      $function,
      $article_id,
      $is_read,
      $uploader_id
      );
      if( $stmt->fetch() == TRUE )
      {
      $this->set_id( $id );
      $this->set_upload_stamp( $upload_stamp );
      $this->set_receiver_id( $receiver_id );
      $this->set_entity_group( $entity_group );
      $this->set_entity_id( $entity_id );
      $this->set_function( $function );
      $this->set_article_id( $article_id );
      $this->set_is_read( $is_read );
      $this->set_uploader_id( $uploader_id );
      $stmt->close();
      }
      else
      {
      $this->db_warning->not_found();
      }
      $mysqli->close();
      }
      else
      {
      $this->db_error->load_error();
      }
      $this->db_error->serialize();
      $this->db_warning->serialize();
    }

    /**
     *
     * This is the update function of the class news
     * @author Bernd Schrder
     *
     */
    public function update()
    {
      require "data_connect.php";
      $id = $this->get_id();
      $receiver_id = $this->get_receiver_id();
      $entity_group = $this->get_entity_group();
      $entity_id = $this->get_entity_id();
      $function = $this->get_function();
      $article_id = $this->get_article_id();
      $is_read = $this->get_is_read();
      $uploader_id = $this->get_uploader_id();
      $id = $this->get_id();
      if( $stmt = $mysqli->prepare(
      "UPDATE news SET
      id=?,
      receiver_id=?,
      entity_group=?,
      entity_id=?,
      function=?,
      article_id=?,
      is_read=?,
      uploader_id=?
      WHERE id=?"))
      {
      $stmt->bind_param
      (
      "iisiiiiii",
      $id,
      $receiver_id,
      $entity_group,
      $entity_id,
      $function,
      $article_id,
      $is_read,
      $uploader_id,
      $id
      );
      $stmt->execute();
      $stmt->close();
      }
      else
      {
      $this->db_error->update_error();
      }
      $mysqli->close();
      $this->db_error->serialize();
    }

    /**
     *
     * This is the delete function of the class news
     * @author Bernd Schrder
     *
     */
    public function delete()
    {
      require "data_connect.php";
      $id = $this->get_id();
      if( $stmt = $mysqli->prepare(
      "DELETE FROM news
      WHERE id=?"))
      {
      $stmt->bind_param("i",  $id);
      $stmt->execute();
      $stmt->close();
      }
      else
      {
      $this->db_error->delete_error();
      }
      $mysqli->close();
      $this->db_error->serialize();
    }

} /* end of class news */
?>