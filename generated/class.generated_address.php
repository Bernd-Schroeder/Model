<?php

/**
 * This php file is automatically generated by Skolenet
 * Model - Class: address
 */

if (0 > version_compare(PHP_VERSION, '5'))
{ die('This file was generated for PHP 5'); }


require_once('class.general_group.php');


class generated_address
     extends general_group
{
    // --- ATTRIBUTES ---

    /**
     * Short description of attribute id
     *
     * @access public
     * @var Integer
     */
    public $id = null;

    /**
     * represents the primary key of the corresponding country
     *
     * @access private
     * @var Integer
     */
    private $country_id = null;

    /**
     * Short description of attribute zip_code
     *
     * @access public
     * @var String
     */
    public $zip_code = null;

    /**
     * Short description of attribute city_name
     *
     * @access public
     * @var String
     */
    public $city_name = null;

    /**
     * represents the streetname
     *
     * @access private
     * @var String
     */
    private $street_name = null;

    /**
     * represents the house number
     *
     * @access private
     * @var String
     */
    private $house_number = null;

     // --- OPERATIONS ---

    /**
     * Short description of attribute id
     *
     * @access public
     * @var Integer
     */
    public function set_id($id)
    {
      $this->id = $id;
    }

    /**
     * Short description of attribute id
     *
     * @access public
     * @var Integer
     */
    public function get_id()
    {
      return $this->id;
    }

    /**
     * represents the primary key of the corresponding country
     *
     * @access private
     * @var Integer
     */
    public function set_country_id($country_id)
    {
      $this->country_id = $country_id;
    }

    /**
     * represents the primary key of the corresponding country
     *
     * @access private
     * @var Integer
     */
    public function get_country_id()
    {
      return $this->country_id;
    }

    /**
     * Short description of attribute zip_code
     *
     * @access public
     * @var String
     */
    public function set_zip_code($zip_code)
    {
      $this->zip_code = $zip_code;
    }

    /**
     * Short description of attribute zip_code
     *
     * @access public
     * @var String
     */
    public function get_zip_code()
    {
      return $this->zip_code;
    }

    /**
     * Short description of attribute city_name
     *
     * @access public
     * @var String
     */
    public function set_city_name($city_name)
    {
      $this->city_name = $city_name;
    }

    /**
     * Short description of attribute city_name
     *
     * @access public
     * @var String
     */
    public function get_city_name()
    {
      return $this->city_name;
    }

    /**
     * represents the streetname
     *
     * @access private
     * @var String
     */
    public function set_street_name($street_name)
    {
      $this->street_name = $street_name;
    }

    /**
     * represents the streetname
     *
     * @access private
     * @var String
     */
    public function get_street_name()
    {
      return $this->street_name;
    }

    /**
     * represents the house number
     *
     * @access private
     * @var String
     */
    public function set_house_number($house_number)
    {
      $this->house_number = $house_number;
    }

    /**
     * represents the house number
     *
     * @access private
     * @var String
     */
    public function get_house_number()
    {
      return $this->house_number;
    }

    /**
     *
     * This is the insert function of the class address
     * @author Bernd Schrder
     *
     */
    public function insert()
    {
      require "data_connect.php";
      $insert_id = 0;
      $id = $this->get_id();
      $country_id = $this->get_country_id();
      $zip_code = $this->get_zip_code();
      $city_name = $this->get_city_name();
      $street_name = $this->get_street_name();
      $house_number = $this->get_house_number();
      if( $stmt = $mysqli->prepare(
      "INSERT INTO address
      (
      id,
      country_id,
      zip_code,
      city_name,
      street_name,
      house_number
      )
      VALUES (?,?,?,?,?,?)"))
      {
      $stmt->bind_param
      (
      "iissss",
      $id,
      $country_id,
      $zip_code,
      $city_name,
      $street_name,
      $house_number
      );
      $stmt->execute();
      $stmt->close();
      $insert_id = $mysqli->insert_id;
      }
      else
      {
      $this->db_error->insert_error();
      }
      $mysqli->close();
      $this->db_error->serialize();
      return $insert_id;
    }

    /**
     *
     * This is the load function of the class address
     * @author Bernd Schrder
     *
     */
    public function load()
    {
      require "data_connect.php";
      $id = $this->get_id();
      if( $stmt = $mysqli->prepare(
      "SELECT
      id,
      country_id,
      zip_code,
      city_name,
      street_name,
      house_number
      FROM address WHERE id=?"))
      {
      $stmt->bind_param('i', $id );
      $stmt->execute();
      $stmt->bind_result
      (
      $id,
      $country_id,
      $zip_code,
      $city_name,
      $street_name,
      $house_number
      );
      if( $stmt->fetch() == TRUE )
      {
      $this->set_id( $id );
      $this->set_country_id( $country_id );
      $this->set_zip_code( $zip_code );
      $this->set_city_name( $city_name );
      $this->set_street_name( $street_name );
      $this->set_house_number( $house_number );
      $stmt->close();
      }
      else
      {
      $this->db_warning->not_found();
      }
      $mysqli->close();
      }
      else
      {
      $this->db_error->load_error();
      }
      $this->db_error->serialize();
      $this->db_warning->serialize();
    }

    /**
     *
     * This is the update function of the class address
     * @author Bernd Schrder
     *
     */
    public function update()
    {
      require "data_connect.php";
      $id = $this->get_id();
      $country_id = $this->get_country_id();
      $zip_code = $this->get_zip_code();
      $city_name = $this->get_city_name();
      $street_name = $this->get_street_name();
      $house_number = $this->get_house_number();
      $id = $this->get_id();
      if( $stmt = $mysqli->prepare(
      "UPDATE address SET
      id=?,
      country_id=?,
      zip_code=?,
      city_name=?,
      street_name=?,
      house_number=?
      WHERE id=?"))
      {
      $stmt->bind_param
      (
      "iissssi",
      $id,
      $country_id,
      $zip_code,
      $city_name,
      $street_name,
      $house_number,
      $id
      );
      $stmt->execute();
      $stmt->close();
      }
      else
      {
      $this->db_error->update_error();
      }
      $mysqli->close();
      $this->db_error->serialize();
    }

    /**
     *
     * This is the delete function of the class address
     * @author Bernd Schrder
     *
     */
    public function delete()
    {
      require "data_connect.php";
      $id = $this->get_id();
      if( $stmt = $mysqli->prepare(
      "DELETE FROM address
      WHERE id=?"))
      {
      $stmt->bind_param("i",  $id);
      $stmt->execute();
      $stmt->close();
      }
      else
      {
      $this->db_error->delete_error();
      }
      $mysqli->close();
      $this->db_error->serialize();
    }

} /* end of class address */
?>