<?php

/**
 * This php file is automatically generated by Skolenet
 * Model - Class: event_member
 */

if (0 > version_compare(PHP_VERSION, '5'))
{ die('This file was generated for PHP 5'); }


require_once('class.general_group.php');


class generated_event_member
     extends general_group
{
    // --- ATTRIBUTES ---

    /**
     * Short description of attribute id
     *
     * @access private
     * @var Integer
     */
    private $id = null;

    /**
     * Short description of attribute event_id
     *
     * @access private
     * @var Integer
     */
    private $event_id = null;

    /**
     * Short description of attribute member_id
     *
     * @access private
     * @var Integer
     */
    private $member_id = null;

    /**
     * Short description of attribute followed_id
     *
     * @access private
     * @var Integer
     */
    private $followed_id = null;

    /**
     * Short description of attribute time_slot
     *
     * @access private
     * @var String
     */
    private $time_slot = null;

    /**
     * Short description of attribute requested
     *
     * @access private
     * @var time_stamp
     */
    private $requested = null;

    /**
     * Short description of attribute status
     *
     * @access private
     * @var Integer
     */
    private $status = null;

     // --- OPERATIONS ---

    /**
     * Short description of attribute id
     *
     * @access private
     * @var Integer
     */
    public function set_id($id)
    {
      $this->id = $id;
    }

    /**
     * Short description of attribute id
     *
     * @access private
     * @var Integer
     */
    public function get_id()
    {
      return $this->id;
    }

    /**
     * Short description of attribute event_id
     *
     * @access private
     * @var Integer
     */
    public function set_event_id($event_id)
    {
      $this->event_id = $event_id;
    }

    /**
     * Short description of attribute event_id
     *
     * @access private
     * @var Integer
     */
    public function get_event_id()
    {
      return $this->event_id;
    }

    /**
     * Short description of attribute member_id
     *
     * @access private
     * @var Integer
     */
    public function set_member_id($member_id)
    {
      $this->member_id = $member_id;
    }

    /**
     * Short description of attribute member_id
     *
     * @access private
     * @var Integer
     */
    public function get_member_id()
    {
      return $this->member_id;
    }

    /**
     * Short description of attribute followed_id
     *
     * @access private
     * @var Integer
     */
    public function set_followed_id($followed_id)
    {
      $this->followed_id = $followed_id;
    }

    /**
     * Short description of attribute followed_id
     *
     * @access private
     * @var Integer
     */
    public function get_followed_id()
    {
      return $this->followed_id;
    }

    /**
     * Short description of attribute time_slot
     *
     * @access private
     * @var String
     */
    public function set_time_slot($time_slot)
    {
      $this->time_slot = $time_slot;
    }

    /**
     * Short description of attribute time_slot
     *
     * @access private
     * @var String
     */
    public function get_time_slot()
    {
      return $this->time_slot;
    }

    /**
     * Short description of attribute requested
     *
     * @access private
     * @var time_stamp
     */
    public function set_requested($requested)
    {
      $this->requested = $requested;
    }

    /**
     * Short description of attribute requested
     *
     * @access private
     * @var time_stamp
     */
    public function get_requested()
    {
      return $this->requested;
    }

    /**
     * Short description of attribute status
     *
     * @access private
     * @var Integer
     */
    public function set_status($status)
    {
      $this->status = $status;
    }

    /**
     * Short description of attribute status
     *
     * @access private
     * @var Integer
     */
    public function get_status()
    {
      return $this->status;
    }

    /**
     *
     * This is the insert function of the class event_member
     * @author Bernd Schrder
     *
     */
    public function insert()
    {
      require "data_connect.php";
      $insert_id = 0;
      $id = $this->get_id();
      $event_id = $this->get_event_id();
      $member_id = $this->get_member_id();
      $followed_id = $this->get_followed_id();
      $time_slot = $this->get_time_slot();
      $status = $this->get_status();
      if( $stmt = $mysqli->prepare(
      "INSERT INTO event_member
      (
      id,
      event_id,
      member_id,
      followed_id,
      time_slot,
      status
      )
      VALUES (?,?,?,?,?,?)"))
      {
      $stmt->bind_param
      (
      "iiiisi",
      $id,
      $event_id,
      $member_id,
      $followed_id,
      $time_slot,
      $status
      );
      $stmt->execute();
      $stmt->close();
      $insert_id = $mysqli->insert_id;
      }
      else
      {
      $this->db_error->insert_error();
      }
      $mysqli->close();
      $this->db_error->serialize();
      return $insert_id;
    }

    /**
     *
     * This is the load function of the class event_member
     * @author Bernd Schrder
     *
     */
    public function load()
    {
      require "data_connect.php";
      $id = $this->get_id();
      if( $stmt = $mysqli->prepare(
      "SELECT
      id,
      event_id,
      member_id,
      followed_id,
      time_slot,
      requested,
      status
      FROM event_member WHERE id=?"))
      {
      $stmt->bind_param('i', $id );
      $stmt->execute();
      $stmt->bind_result
      (
      $id,
      $event_id,
      $member_id,
      $followed_id,
      $time_slot,
      $requested,
      $status
      );
      if( $stmt->fetch() == TRUE )
      {
      $this->set_id( $id );
      $this->set_event_id( $event_id );
      $this->set_member_id( $member_id );
      $this->set_followed_id( $followed_id );
      $this->set_time_slot( $time_slot );
      $this->set_requested( $requested );
      $this->set_status( $status );
      $stmt->close();
      }
      else
      {
      $this->db_warning->not_found();
      }
      $mysqli->close();
      }
      else
      {
      $this->db_error->load_error();
      }
      $this->db_error->serialize();
      $this->db_warning->serialize();
    }

    /**
     *
     * This is the update function of the class event_member
     * @author Bernd Schrder
     *
     */
    public function update()
    {
      require "data_connect.php";
      $id = $this->get_id();
      $event_id = $this->get_event_id();
      $member_id = $this->get_member_id();
      $followed_id = $this->get_followed_id();
      $time_slot = $this->get_time_slot();
      $status = $this->get_status();
      $id = $this->get_id();
      if( $stmt = $mysqli->prepare(
      "UPDATE event_member SET
      id=?,
      event_id=?,
      member_id=?,
      followed_id=?,
      time_slot=?,
      status=?
      WHERE id=?"))
      {
      $stmt->bind_param
      (
      "iiiisii",
      $id,
      $event_id,
      $member_id,
      $followed_id,
      $time_slot,
      $status,
      $id
      );
      $stmt->execute();
      $stmt->close();
      }
      else
      {
      $this->db_error->update_error();
      }
      $mysqli->close();
      $this->db_error->serialize();
    }

    /**
     *
     * This is the delete function of the class event_member
     * @author Bernd Schrder
     *
     */
    public function delete()
    {
      require "data_connect.php";
      $id = $this->get_id();
      if( $stmt = $mysqli->prepare(
      "DELETE FROM event_member
      WHERE id=?"))
      {
      $stmt->bind_param("i",  $id);
      $stmt->execute();
      $stmt->close();
      }
      else
      {
      $this->db_error->delete_error();
      }
      $mysqli->close();
      $this->db_error->serialize();
    }

} /* end of class event_member */
?>